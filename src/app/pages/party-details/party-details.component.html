<div class="party-details container-fluid">
  <div class="row flex-wrap">
    <!-- Left Panel -->
    <div class="col-lg-3 col-md-4 col-sm-12 add-party mb-3">
      <div class="d-flex align-items-center justify-content-between mb-2">
        <i class="pi pi-search" (click)="onSearchClick()"></i>
        <input *ngIf="showSearchInput" type="text" placeholder="Search Party" class="form-control search-input ms-2" />
        <button *ngIf="!showSearchInput" routerLink="/add-party" class="btn btn-sm btn-primary ms-2">Add Party</button>
        <i class="pi pi-ellipsis-v ms-2" (click)="showDialog()" pTooltip="Manage Parties Active/Inactive" tooltipPosition="right"></i>
      </div>

      <!-- Dialog -->
      <p-dialog header="Manage Parties Active / Inactive" [modal]="true" [(visible)]="visible"
        [style]="{ width:'100%', maxWidth:'39rem' }">
        <div class="mb-3">
          <input type="text" pInputText placeholder="Search..." class="w-100" />
        </div>
        <div class="row fw-bold text-center mb-2">
          <div class="col-4">PARTIES</div>
          <div class="col-4">PHONE NO</div>
          <div class="col-4">PARTY STATUS</div>
        </div>
        <div class="row text-center mb-3">
          <div class="col-4">Laptop Shop</div>
          <div class="col-4">7887907564</div>
          <div class="col-4">
            <p-toggleswitch></p-toggleswitch>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <p-button class="p-button-sm" label="Save Change" (click)="visible = false"></p-button>
        </div>
      </p-dialog>

      <!-- Party Table -->
      <table class="table table-sm table-bordered mt-3">
        <thead>
          <tr>
            <th>PARTY</th>
            <th>AMOUNT</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Laptop Shop</td>
            <td>28000</td>
          </tr>
          <tr>
            <td>Mobile Shop</td>
            <td>2000</td>
          </tr>
          <tr *ngIf="party && amount">
            <td>{{ party }}</td>
            <td>{{ amount }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Right Panel -->
    <div class="col-lg-9 col-md-8 col-sm-12">
      <!-- Admin Info -->
      <div class="row admin-row g-3">
        <div class="col-md-8">
          <label>Phone: <span routerLink="/add-party"><i class="pi pi-phone"></i> Add Phone No</span></label><br>
          <label>Email: <span routerLink="/add-party"><i class="pi pi-envelope"></i> Add Email ID</span></label><br>
          <label>No Credit Limit Set: <span routerLink="/add-party">Set Credit Limit</span></label>
        </div>
        <div class="col-md-4">
          <div class="icon mb-2 d-flex gap-2">
            <i class="pi pi-envelope fs-5"></i>
            <i class="pi pi-whatsapp fs-5"></i>
            <i class="pi pi-clock fs-5"></i>
          </div>
          <label>Address: <span routerLink="/add-party">Add Address</span></label><br>
          <label>GstIn: <span routerLink="/add-party">Add GSTIN</span></label><br>
          <label>Party Status:
            <span class="switch ms-2">
              <input type="checkbox" checked />
              <span class="slider round"></span>
            </span>
          </label>
        </div>
      </div>

      <!-- Transactions Table -->
      <div class="row mt-4">
        <h5>TRANSACTIONS</h5>
        <div class="card p-2">
          <p-table [value]="products" [tableStyle]="{ 'min-width': '100%' }" class="table-responsive">
            <ng-template pTemplate="header">
              <tr>
                <th>Type</th>
                <th>Number</th>
                <th>Date</th>
                <th>Total</th>
                <th>Balance</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
              <tr>
                <td>{{ product.type }}</td>
                <td>{{ product.number }}</td>
                <td>{{ product.date }}</td>
                <td>{{ product.total }}</td>
                <td>{{ product.balance }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </div>
</div>
